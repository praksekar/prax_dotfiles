#!/bin/bash 

ranger_node=$(cat /tmp/ranger_node)

# check wm whether ranger exists.
if [ -z $(bspc query --nodes | grep $ranger_node) ]
then
    launch_ranger &
    watch=$(bspc subscribe -c 1 node_add)
    ranger_node=${watch##* }
    echo $ranger_node > /tmp/ranger_node
    bspc node $ranger_node --state floating --flag locked --flag sticky 
fi

# toggle bewteen hiddne and unhidden when program is invoked
if [ $(bspc query -N -n $ranger_node.hidden) ]
then 
    bspc node $ranger_node --flag hidden=off --focus
else
    bspc node $ranger_node --flag hidden=on
fi
